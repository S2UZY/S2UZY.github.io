---
title: "[250923] TIL"
excerpt: ""

categories:
  - TIL
tags:
  - [TIL]

permalink: /blog/til/250923

toc: true
toc_sticky: true

date: 2025-09-23
last_modified_at: 2025-09-23
---

# Today I Learned (2025-09-23)

- 모든 의존성을 루트 package.json 에 집중하면, 각 워크스페이스가 실제로 어떤 패키지를 사용하는지 알기 어려워질 수 있는 단점이 있지만, 루트에 집중이 필요한 것들도 있음

  - 예를 들어 타입 식별할 때 `모듈 경로`를 중요하게 보고, 패키지 버전이 같아도 설치 경로가 다르면 다른 타입으로 봄
  - 실제 패키지 파일은 `node_modules/.pnpm/<package-name>@<version>/node_modules/<package-name>` 경로에 저장
  - 각 워크스페이스의 안에는 [[심볼릭 링크|심볼릭 링크]]가 생성됨 (두 워크스페이스에 각각 심볼릭 링크 만듬)
  - TypeScript 컴파일러가 apps/cms 코드와 packages/ui 코드를 함께 컴파일할 때, 특정 컴포넌트가 packages/ui에서 ReactNode를 가져왔고, 다른 컴포넌트가 apps/cms에서 ReactNode를 가져왔다고 인식할 수 있습니다. 모듈 로더는 다른 로드 경로로 볼 수 있음
  - 루트에만 정의하면 의존성 없으면 상위 디렉토리감

  ```
  - apps/cms/node_modules/@types/react
  - packages/ui/node_modules/@types/react
  ```

- `devDependencies` 는 가능한 루트 package.json 에 중앙 집중화하여 도구 버전 통일
- dependencies는 각 워크스페이스에서 필요한것만 명확하게 정의
- peerDependencies는 필요한 의존성 요구사항만 선언하고 직접 설치되지 않음. 상위 앱이 설치해줘야함
  - pnpm install 해도 자동 설치하지 않고 경고 뜨고 런타임에서 터짐

## "@types/node": "workspace:^" 의미

- npm registry 에서 받는게 아니라, 로컬 Packages/ui를 참조하게 됨

# Turbo 의존성 설치

- 버포는 빌드 도구일뿐 node_modules 설치는 안해줌
- pnpm install
