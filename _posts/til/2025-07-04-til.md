---
title: "[250704] TIL"
excerpt: "인프런 웹 최적화 PART 2 강의 듣기"

categories:
  - TIL
tags:
  - [TIL]

permalink: /blog/til/250703

toc: true
toc_sticky: true

date: 2025-07-04
last_modified_at: 2025-07-04
---

# Today I Learned (2025-07-04)

라이트하우스에 Serve static assets with an efficient cahche policy
이미지, 동영상, 자바스크립트 등이 캐시 설정이 되어있지 않다고 뜨는거임

Headers에 Response Headers에 캐시설정이 되어있지 않은걸 볼 수 있음

> cache-control 이란 헤더가 설정되어있어야함

# 캐시

데이터나 값을 미리 복사해 놓는 임시 장소나 동작

# 웹 브라우저 캐싱 방법 (크롬 기준)

## 1. 메모리 캐시

- RAM에 데이터를 저장해두는 방식

## 2. 디스크 캐시

- file로 저장하고 읽는 방식

> 사용 빈도나 사이즈에 따라서 알아서 측정이 됨

네트워크 탭에서 메모리 캐시, 디스크 캐시 뜨는걸 확인 할 수 있음

# Cache-Control 지시문

- HTTP 헤더에 들어감
- 서버에서 넣어주는거라, 빌드 된 파일을 서비스 해주는 해당 서버에서 설정 해줘야 함

## 캐시컨트롤에는 어떤 설정이 들어갈 수 있을까?

### 1. no-cache

- 캐시를 사용하기 전에 서버 검사 후, 사용 결정
- 캐시를 사용 안하는거 아님
- 브라우저가 있고 이미지가 캐시되어있음 > 이 이미지 캐시 사용할껀데 사용해도 돼 ? > 서버: 사용해도 돼 하면 사용, 안된다하면 새로 요청

### 2. no-store

- 캐시 사용 안함

### 3. public

- 모든 환경에서 캐시 사용 가능

### 4. private

- 브라우저 환경에서만 캐시 사용, 외부 캐시 서버에서는 사용 불가
- 로그인해서 나만의 private 데이터 로드됨, 서버에서는 캐시 되면 안됨

### 5. max-age

- 캐시의 유효기간
- max-age = 60 이면 60초 적용

no-cache 랑 max-age = 0 과 같음

#### 실습

max-age 에서 20으로 설정함 > 20초 뒤에 새로고침하는데 디게 가벼움 - 서버에서 새로운 데이터 아니면 그대로 쓴다는 것을 확인함 - 물어보는 과정의 데이터만 네트워크 통신한거 - status가 304인데 수정이 되지 않았다는 의미임

#### 서버는 어떻게 데이터가 다르지 않다는걸 알 수 있을까?

- ETag 라는 지시문에 있음
- 리스폰스에 붙어있음
- 이 태그 같은지 아닌지 확인함
