---
title: "[240624] TIL"
excerpt: ""

categories:
  - TIL
tags:
  - [TIL, typescript]

permalink: /blog/til/240624

toc: true
toc_sticky: true

date: 2024-06-24
last_modified_at: 2024-06-24
---

# 스코프 클로저 복습

- 크롬 개발자도구 sorce 들어가면 스코프, 클로저, 콜스택 확인할 수 있다.

### 스코프

- 스코프 레벨
  1. 블록 레벨 스코프 ( if, for문, 함수) → 대부분 프로그래밍 언어
     - let, const (es6)
  2. 함수 레벨 스코프 (only 함수) → javascript
- 상위 스코프
  1. 함수가 호출되는 시점에 결정 → 동적 스코프
  2. 함수가 정의되는 시점에 결정 → 정적 스코프 === 렉시컬 스코프 (자바스크립트)
     - 자바스크립트에서 함수는 태어나면 내부 슬롯에 상위스코프에 대한 참조를 저장한다.

### 클로저

- inner 함수 객체는 내부 슬롯에서 outer() 렉시컬 환경을 참조하고 있기 때문에 가비지 컬렉터에 안들어감
- 중첩 함수에서 내부 함수가 상위 스코프의 식별자를 참조하고 있고 본인의 외부 함수보다 더 오래 살아있다면 클로져다.
- 식별자는 자유 변수라고 함
- 하나의 상태를 은닉하고 특정 함수를 통해서만 상태가 변할 수 있게 해줌

# 딥다이브 42장 비동기 프로그래밍 복습

- 자바스크립트 : 싱글스레드
- 브라우저 : 멀티스레드
- 자바스크립트 엔진은 크게 콜스택과 힙 영역으로 구분
- 단 하나의 콜스택을 갖고 있기 때문에 최상위 실행 컨텍스트가 종료되어서 제거 되기 전까지 다른 어떤 테스트도 하지 않음.
- 콜백함수는 태스크 큐에 저장된다.
- 메세지루프는 콜스택을 반복해서 확인하고, 콜스택이 비어있을 때 태스크 큐에 대기중인 함수가 있으면 순차적으로 태스크 큐에 있는 함수를 콜스택으로 이동 시킨다.
- 콜스택이 비어있어야지 태스크 큐에 있는 함수가 실행 가능하기때문에 정확하게 시간 보장은 할 수 없음
