---
title: "[240615] 43ì¥ Ajax"
excerpt: "Deep Diveë¥¼ ì½ê³ "

categories:
  - TIL
tags:
  - [TIL, typescript]

permalink: /blog/til/240615

toc: true
toc_sticky: true

date: 2024-06-15
last_modified_at: 2024-06-15
---

## Ajaxë€?

- ìë°” ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¸Œë¼ìš°ì €ê°€ ì„œë²„ì—ê²Œ ë¹„ë™ê¸° ë°©ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ìš”ì²­í•˜ê³ , ì„œë²„ê°€ ì‘ë‹µí•œ ë°ì´í„°ë¥¼ ìˆ˜ì‹ í•˜ì—¬ ì›¹í˜ì´ì§€ë¥¼ ë™ì ìœ¼ë¡œ ê°±ì‹ í•˜ëŠ” í”„ë¡œê·¸ë˜ë° ë°©ì‹
- ë¸Œë¼ìš°ì €ì—ì„œ ì œê³µí•˜ëŠ” Web API ì¸ XMLHttpRequest ê°ì²´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘

```
ğŸ’¡ Fetch API ëŠ” XMLHttpRequest ì˜ í˜„ëŒ€ì ì¸ ëŒ€ì•ˆ, Promise ê¸°ë°˜ì˜ API ì œê³µ
Axios ëŠ” HTTP ìš”ì²­ì„ ìœ„í•œ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬
```

## JSON

- í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ê°„ì˜ HTTP í†µì‹ ì„ ìœ„í•œ í…ìŠ¤íŠ¸ ë°ì´í„° í¬ë§·
- í‚¤ì™€ ê°’ìœ¼ë¡œ êµ¬ì„±

### 1. JSON.stringify

- ì§ë ¬í™”
- ê°ì²´ â†’ JSON í¬ë§·ì˜ ë¬¸ìì—´ë¡œ ë³€í™˜
- ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ë©´ì„œ ë“¤ì—¬ì“°ê¸° : JSON.stringify(obj, null, 2);

### 2. JSON.parse

- ì—­ì§ë ¬í™”
- JSON í¬ë§·ì˜ ë¬¸ìì—´ì„ ê°ì²´ë¡œ ë³€í™˜

## XMLHttpRequest

- Web API

### HTTP ìš”ì²­ ì „ì†¡

```jsx
const xhr = new XMLHttpRequest();

// HTTP ìš”ì²­ ì´ˆê¸°í™”
xhr.open("POST", "/users");

// HTTP ìš”ì²­ í—¤ë” ì„¤ì •
// í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ë¡œ ì „ì†¡í•  ë°ì´í„°ì˜ MIME íƒ€ì… ì§€ì • : json
xhr.setRequestHeader("content-type", "application/json");

// HTTP ìš”ì²­ ì „ì†¡
xhr.send(JSON.stringify({ id: 1, content: "HTML", completed: false }));
```

### HTTP ì‘ë‹µ ì²˜ë¦¬

```jsx
const xhr = new XMLHttpRequest();

xhr.open('GET', 'https://jsonTest');

xhr.sned();

// ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í”„ë¡œí¼í‹°ì— ì½œë°±í•¨ìˆ˜ ì •ì˜
// readyState í”„ë¡œí¼í‹°ê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ë°œìƒ
// load ì´ë²¤íŠ¸ëŠ” ìš”ì²­ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œëì„ ë•Œ ë°œìƒ
xhr.onreadystatechange = () = {
	if(xhr.readyState !== XMLHttpRequest.DONE) return;

	if(xhr.status === 200) {
		console.log(JSON.parse(xhr.response));
	} else {
		console.error('Error', xhr.status, xhr.statusText);
		}

}
```
