---
title: "[250708] TIL"
excerpt: "StrictMode ë Œë”ë§"

categories:
  - TIL
tags:
  - [TIL]

permalink: /blog/til/250708

toc: true
toc_sticky: true

date: 2025-07-08
last_modified_at: 2025-07-08
---

# Today I Learned (2025-07-08)

-ê°œë°œ í™˜ê²½ì—ì„œ StrictMode ë‚´ë¶€ì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ì´ì¤‘ ë Œë”ë§ í•¨ -ë Œë” í˜ì´ì¦ˆê°€ 2ë²ˆ ì¼ì–´ë‚¨

1. **(1ì°¨) render phase**
2. **(cleanup)**
3. **(2ì°¨) render phase**
4. **commit phase (DOM ë°˜ì˜, useEffect ì‹¤í–‰ ë“±)**

#### ì™œ ì´ë ‡ê²Œ í• ê¹Œ ?

- ë¶€ì‘ìš© ì½”ë“œ, ìˆœìˆ˜í•˜ì§€ ì•Šì€ ì½”ë“œë¥¼ ë¹¨ë¦¬ ì°¾ê²Œ í•´ì¤Œ
- ì‹¤ì œ ë°°í¬ í™˜ê²½ì—ì„œëŠ” í•œ ë²ˆë§Œ render phase ì‹¤í–‰í•´ì„œ ì„±ëŠ¥ì— ì˜í–¥ ì—†ìŒ

1. ë¶€ì‘ìš© ì½”ë“œ

```js
function BadComponent() {
  // ğŸš¨ ì•ˆ ì¢‹ì€ ì˜ˆì‹œ! (ë Œë” í˜ì´ì¦ˆì—ì„œ ì§ì ‘ ë¶€ì‘ìš© ì‹¤í–‰)
  fetch("/api/data"); // StrictModeì—ì„  2ë²ˆ í˜¸ì¶œë¨!
  return <div>ì•ˆë…•í•˜ì„¸ìš”!</div>;
}
```

- useEffectëŠ” í˜ì¸íŠ¸ ì´í›„ì— ë°œìƒí•˜ë‹ˆ í•œ ë²ˆë§Œ ì°í˜

2. ìˆœìˆ˜í•˜ì§€ ì•Šì€ í•¨ìˆ˜

```js
let count = 0;
function BadComponent() {
  count += 1; // ğŸš¨ ì™¸ë¶€ ë³€ìˆ˜ ë³€ê²½(ìˆœìˆ˜ X)
  return <div>{count}</div>;
}
```

3. setTimeout , setInterval ì„ cleanup ì—†ì´ ì‚¬ìš©

```js
function BadComponent() {
  setTimeout(() => {
    console.log("ì‹¤í–‰!");
  }, 1000); // StrictModeì—ì„œ ì¤‘ë³µ ì‹¤í–‰/ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ìœ„í—˜

  return <div>Timeout í…ŒìŠ¤íŠ¸</div>;
}
```
